<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§§ é“å¾·ç»å­¦ä¹  - èƒŒè¯µÂ·è®°å¿†Â·ç†è§£</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Serif SC', serif; background: linear-gradient(135deg, #f5f0e8 0%, #e8e0d5 100%); }
        .card { background: linear-gradient(145deg, #fff, #f8f6f0); box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .btn { transition: all 0.3s ease; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0,0,0,0.2); }
        .chapter-btn { transition: all 0.2s; }
        .chapter-btn:hover { transform: scale(1.05); }
        .progress-ring { transition: stroke-dashoffset 0.5s ease; }
        .fade-in { animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .pinyin { color: #888; font-size: 0.9em; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="min-h-screen">
    <div id="app" class="max-w-6xl mx-auto p-4">
        <!-- Header -->
        <header class="text-center py-8">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-800 mb-2">ğŸ§§ é“å¾·ç»</h1>
            <p class="text-slate-500">èƒŒè¯µ Â· è®°å¿† Â· ç†è§£</p>
            <div class="flex justify-center gap-4 mt-4">
                <button onclick="showMode('flashcard')" class="btn bg-orange-500 text-white px-6 py-2 rounded-full font-bold">ğŸ“‡ é—ªå¡</button>
                <button onclick="showMode('memorize')" class="btn bg-green-500 text-white px-6 py-2 rounded-full font-bold">ğŸ¯ èƒŒè¯µ</button>
                <button onclick="showMode('quiz')" class="btn bg-blue-500 text-white px-6 py-2 rounded-full font-bold">âœï¸ æµ‹éªŒ</button>
                <button onclick="showMode('read')" class="btn bg-purple-500 text-white px-6 py-2 rounded-full font-bold">ğŸ“– ç ”è¯»</button>
            </div>
        </header>

        <!-- Progress Bar -->
        <div class="card rounded-2xl p-4 mb-6">
            <div class="flex justify-between items-center mb-2">
                <span class="font-bold text-slate-700">å­¦ä¹ è¿›åº¦</span>
                <span id="progress-text" class="text-orange-600 font-bold">0/20 ç« </span>
            </div>
            <div class="h-4 bg-slate-200 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-gradient-to-r from-orange-400 to-red-500 transition-all duration-500" style="width: 0%"></div>
            </div>
        </div>

        <!-- Flashcard Mode -->
        <div id="flashcard-mode" class="fade-in">
            <div class="card rounded-3xl p-8 text-center min-h-[400px] flex flex-col justify-center">
                <div id="flashcard" class="cursor-pointer" onclick="flipCard()">
                    <div class="text-6xl mb-6">ğŸ“‡</div>
                    <h2 id="fc-chapter" class="text-2xl font-bold text-slate-800 mb-4">ç¬¬1ç« </h2>
                    <p id="fc-content" class="text-xl text-slate-600 leading-loose">é“å¯é“ï¼Œéå¸¸é“ï¼›åå¯åï¼Œéå¸¸åã€‚</p>
                    <p id="fc-pinyin" class="pinyin mt-4 italic">dÃ o kÄ› dÃ oï¼ŒfÄ“i chÃ¡ng dÃ oï¼›mÃ­ng kÄ› mÃ­ngï¼ŒfÄ“i chÃ¡ng mÃ­ngã€‚</p>
                </div>
                <div class="flex justify-center gap-4 mt-8">
                    <button onclick="prevCard()" class="btn bg-slate-300 text-slate-700 px-6 py-3 rounded-full font-bold">â¬…ï¸ ä¸Šä¸€ç« </button>
                    <button onclick="markRemembered()" class="btn bg-green-500 text-white px-8 py-3 rounded-full font-bold">âœ… å·²è®°ä½</button>
                    <button onclick="nextCard()" class="btn bg-orange-500 text-white px-6 py-3 rounded-full font-bold">ä¸‹ä¸€ç«  â¡ï¸</button>
                </div>
                <p class="text-slate-400 mt-4 text-sm">ğŸ’¡ ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹æ³¨é‡Š</p>
            </div>
        </div>

        <!-- Memorize Mode -->
        <div id="memorize-mode" class="hidden fade-in">
            <div class="card rounded-3xl p-8 min-h-[500px]">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="prevMemorize()" class="btn bg-slate-200 px-4 py-2 rounded-full">â¬…ï¸</button>
                    <h2 id="mem-chapter" class="text-2xl font-bold text-slate-800">ç¬¬1ç« </h2>
                    <button onclick="nextMemorize()" class="btn bg-slate-200 px-4 py-2 rounded-full">â¡ï¸</button>
                </div>
                <div id="mem-content" class="text-center">
                    <p class="text-2xl text-slate-700 leading-loose mb-6">é“å¯é“ï¼Œéå¸¸é“ï¼›åå¯åï¼Œéå¸¸åã€‚</p>
                    <button onclick="toggleMemorizeHint()" class="btn bg-yellow-500 text-white px-6 py-2 rounded-full font-bold mb-4">ğŸ’¡ æç¤º</button>
                    <p id="mem-hint" class="hidden text-slate-500 italic mb-6">è¿™æ˜¯é“å¾·ç»çš„ç¬¬ä¸€ç« ï¼Œè®¨è®ºäº†é“çš„æœ¬è´¨...</p>
                </div>
                <div class="flex justify-center gap-4 mt-6">
                    <button onclick="toggleMemorizeShow()" class="btn bg-blue-500 text-white px-6 py-3 rounded-full font-bold">ğŸ‘ï¸ æ˜¾ç¤º/éšè—</button>
                    <button onclick="markMemorized()" class="btn bg-green-500 text-white px-6 py-3 rounded-full font-bold">âœ… èƒŒè¯µå®Œæˆ</button>
                </div>
            </div>
        </div>

        <!-- Quiz Mode -->
        <div id="quiz-mode" class="hidden fade-in">
            <div class="card rounded-3xl p-8 min-h-[400px]">
                <h2 class="text-2xl font-bold text-slate-800 mb-6 text-center">âœï¸ ç« èŠ‚æµ‹éªŒ</h2>
                <div id="quiz-container" class="text-center">
                    <p class="text-lg text-slate-600 mb-6">è¯·é€‰æ‹©è¦æµ‹éªŒçš„ç« èŠ‚ï¼š</p>
                    <div class="grid grid-cols-5 gap-2 max-w-md mx-auto">
                        <button onclick="startQuiz(1)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">1</button>
                        <button onclick="startQuiz(2)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">2</button>
                        <button onclick="startQuiz(3)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">3</button>
                        <button onclick="startQuiz(4)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">4</button>
                        <button onclick="startQuiz(5)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">5</button>
                        <button onclick="startQuiz(6)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">6</button>
                        <button onclick="startQuiz(7)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">7</button>
                        <button onclick="startQuiz(8)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">8</button>
                        <button onclick="startQuiz(9)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">9</button>
                        <button onclick="startQuiz(10)" class="chapter-btn bg-slate-200 py-2 rounded-lg font-bold">10</button>
                    </div>
                </div>
                <div id="quiz-question" class="hidden mt-6">
                    <p id="quiz-text" class="text-xl text-slate-700 mb-6">è¯·å¡«ç©ºï¼šé“å¯é“ï¼Œ_____ï¼Ÿ</p>
                    <input type="text" id="quiz-answer" class="w-full max-w-md mx-auto block p-4 border-2 border-slate-300 rounded-xl text-center text-lg mb-4" placeholder="è¾“å…¥ç­”æ¡ˆ...">
                    <button onclick="checkQuiz()" class="btn bg-green-500 text-white px-8 py-3 rounded-full font-bold">âœ… æäº¤</button>
                    <button onclick="showQuizAnswer()" class="btn bg-red-500 text-white px-6 py-3 rounded-full font-bold ml-4">âŒ æ˜¾ç¤ºç­”æ¡ˆ</button>
                </div>
                <div id="quiz-result" class="hidden mt-6 text-center">
                    <p id="quiz-result-text" class="text-xl font-bold"></p>
                    <button onclick="resetQuiz()" class="btn bg-blue-500 text-white px-6 py-3 rounded-full font-bold mt-4">ğŸ”„ å†æµ‹ä¸€æ¬¡</button>
                </div>
            </div>
        </div>

        <!-- Read Mode -->
        <div id="read-mode" class="hidden fade-in">
            <div class="card rounded-3xl p-8 min-h-[500px]">
                <h2 class="text-2xl font-bold text-slate-800 mb-6 text-center">ğŸ“– ç ”è¯»</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <button onclick="filterChapters('all')" class="btn bg-slate-700 text-white py-2 rounded-full">å…¨éƒ¨</button>
                    <button onclick="filterChapters('mastered')" class="btn bg-green-500 text-white py-2 rounded-full">å·²æŒæ¡</button>
                    <button onclick="filterChapters('learning')" class="btn bg-yellow-500 text-white py-2 rounded-full">å­¦ä¹ ä¸­</button>
                    <button onclick="filterChapters('new')" class="btn bg-orange-500 text-white py-2 rounded-full">æœªå¼€å§‹</button>
                </div>
                <div id="chapter-list" class="max-h-[400px] overflow-y-auto scrollbar-hide space-y-3">
                    <!-- Chapters will be rendered here -->
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center py-8 text-slate-400 text-sm">
            <p>ğŸ§§ é“å¾·ç»å­¦ä¹ åŠ©æ‰‹ | åšæŒå°±æ˜¯èƒœåˆ©</p>
            <p class="mt-2">ğŸ’¾ å­¦ä¹ è¿›åº¦è‡ªåŠ¨ä¿å­˜</p>
        </footer>
    </div>

    <script>
        // Tao Te Ching Data
        const chapters = [
            { id: 1, title: "ç¬¬1ç«  - é“ä¹‹å", content: "é“å¯é“ï¼Œéå¸¸é“ï¼›åå¯åï¼Œéå¸¸åã€‚", pinyin: "dÃ o kÄ› dÃ oï¼ŒfÄ“i chÃ¡ng dÃ oï¼›mÃ­ng kÄ› mÃ­ngï¼ŒfÄ“i chÃ¡ng mÃ­ngã€‚", yi: "å¯ä»¥è¯´å‡ºæ¥çš„é“ï¼Œå°±ä¸æ˜¯æ°¸æ’çš„é“ï¼›å¯ä»¥å«å‡ºæ¥çš„åï¼Œå°±ä¸æ˜¯æ°¸æ’çš„åã€‚", keywords: ["é“", "å", "ç„ä¹‹åˆç„"], tips: "çœŸç†æ— æ³•ç”¨è¯­è¨€å®Œå…¨è¡¨è¾¾", key: "é“å¯é“ï¼Œéå¸¸é“" },
            { id: 2, title: "ç¬¬2ç«  - ç¾ä¸‘å–„æ¶", content: "å¤©ä¸‹çš†çŸ¥ç¾ä¹‹ä¸ºç¾ï¼Œæ–¯æ¶å·²ï¼›çš†çŸ¥å–„ä¹‹ä¸ºå–„ï¼Œæ–¯ä¸å–„å·²ã€‚", pinyin: "tiÄn xiÃ  jiÄ“ zhÄ« mÄ›i zhÄ« wÃ©i mÄ›iï¼ŒsÄ« Ã¨ yÇï¼›jiÄ“ zhÄ« shÃ n zhÄ« wÃ©i shÃ nï¼ŒsÄ« bÃ¹ shÃ n yÇã€‚", yi: "å¤©ä¸‹äººéƒ½çŸ¥é“ç¾ä¹‹æ‰€ä»¥ä¸ºç¾ï¼Œä¸‘çš„å°±å‡ºç°äº†ï¼›éƒ½çŸ¥é“å–„ä¹‹æ‰€ä»¥ä¸ºå–„ï¼Œæ¶çš„å°±å‡ºç°äº†ã€‚", keywords: ["ç¾ä¸‘", "ç›¸å¯¹è®º", "è¾©è¯"], tips: "ç¾ä¸ä¸‘æ˜¯ç›¸å¯¹çš„ï¼Œå¯¹ç«‹ç»Ÿä¸€", key: "å¤©ä¸‹çš†çŸ¥ç¾ä¹‹ä¸ºç¾" },
            { id: 3, title: "ç¬¬3ç«  - æ— ä¸ºè€Œæ²»", content: "ä¸å°šè´¤ï¼Œä½¿æ°‘ä¸äº‰ï¼›ä¸è´µéš¾å¾—ä¹‹è´§ï¼Œä½¿æ°‘ä¸ä¸ºç›—ï¼›ä¸è§å¯æ¬²ï¼Œä½¿æ°‘å¿ƒä¸ä¹±ã€‚", pinyin: "bÃ¹ shÃ ng xiÃ¡nï¼ŒshÇ mÃ­n bÃ¹ zhÄ“ngï¼›bÃ¹ guÃ¬ nÃ¡n dÃ© zhÄ« huÃ²ï¼ŒshÇ mÃ­n bÃ¹ wÃ©i dÃ oï¼›bÃ¹ jiÃ n kÄ› yÃ¹ï¼ŒshÇ mÃ­n xÄ«n bÃ¹ luÃ nã€‚", yi: "ä¸æ¨å´‡æœ‰æ‰å¾·çš„äººï¼Œä½¿æ°‘ä¼—ä¸äº‰åŠŸåï¼›ä¸çè´µéš¾å¾—çš„è´¢è´§ï¼Œä½¿æ°‘ä¼—ä¸åšç›—è´¼ï¼›ä¸æ˜¾è€€èƒ½å¼•èµ·è´ªå¿ƒçš„äº‹ç‰©ï¼Œä½¿æ°‘ä¼—å¿ƒæ€§ä¸ä¹±ã€‚", keywords: ["æ— ä¸º", "ä¸äº‰", "æ¸…é™"], tips: "å‡å°‘æ¬²æœ›ï¼Œç¤¾ä¼šå¤ªå¹³ï¼›æ— ä¸ºå¹¶éä¸ä¸º", key: "ä¸å°šè´¤ï¼Œä½¿æ°‘ä¸äº‰" },
            { id: 4, title: "ç¬¬4ç«  - é“ä¹‹å†²", content: "é“å†²è€Œç”¨ä¹‹æˆ–ä¸ç›ˆï¼Œæ¸Šå…®ä¼¼ä¸‡ç‰©ä¹‹å®—ã€‚", pinyin: "dÃ o chÅng Ã©r yÃ²ng zhÄ« huÃ² bÃ¹ yÃ­ngï¼ŒyuÄn xÄ« sÃ¬ wÃ n wÃ¹ zhÄ« zÅngã€‚", yi: "é“æ˜¯ç©ºè™šçš„ï¼Œä½†å®ƒçš„ä½œç”¨æ— ç©·æ— å°½ï¼›æ·±é‚ƒå•Šï¼Œå¥½åƒä¸‡ç‰©çš„ç¥–å…ˆã€‚", keywords: ["ç©ºè™š", "æœ¬æº", "æ·±æ¸Š"], tips: "é“æ˜¯è™šç©ºçš„ï¼Œå´ç”¨ä¹‹ä¸ç«­ï¼Œä¸‡ç‰©çš„æ ¹æº", key: "é“å†²è€Œç”¨ä¹‹æˆ–ä¸ç›ˆ" },
            { id: 5, title: "ç¬¬5ç«  - å¤©åœ°ä¸ä»", content: "å¤©åœ°ä¸ä»ï¼Œä»¥ä¸‡ç‰©ä¸ºåˆç‹—ï¼›åœ£äººä¸ä»ï¼Œä»¥ç™¾å§“ä¸ºåˆç‹—ã€‚", pinyin: "tiÄn dÃ¬ bÃ¹ rÃ©nï¼ŒyÇ wÃ n wÃ¹ wÃ©i chÃº gÇ’uï¼›shÃ¨ng rÃ©n bÃ¹ rÃ©nï¼ŒyÇ bÇi xÃ¬ng wÃ©i chÃº gÇ’uã€‚", yi: "å¤©åœ°æ— æ‰€è°“ä»æ…ˆï¼Œå¯¹å¾…ä¸‡ç‰©åƒå¯¹å¾…è‰ç‹—ä¸€æ ·ï¼›åœ£äººä¹Ÿæ— æ‰€è°“ä»æ…ˆï¼Œå¯¹å¾…ç™¾å§“ä¹Ÿåƒå¯¹å¾…è‰ç‹—ä¸€æ ·ã€‚", keywords: ["å¹³ç­‰", "è‡ªç„¶", "æ— åç§"], tips: "å¤©åœ°å¯¹ä¸‡ç‰©ä¸€è§†åŒä»ï¼Œé¡ºå…¶è‡ªç„¶", key: "å¤©åœ°ä¸ä»ï¼Œä»¥ä¸‡ç‰©ä¸ºåˆç‹—" },
            { id: 6, title: "ç¬¬6ç«  - ç„ç‰", content: "è°·ç¥ä¸æ­»ï¼Œæ˜¯è°“ç„ç‰ï¼Œç„ç‰ä¹‹é—¨ï¼Œæ˜¯è°“å¤©åœ°æ ¹ã€‚", pinyin: "gÇ” shÃ©n bÃ¹ sÇï¼ŒshÃ¬ wÃ¨i xuÃ¡n pÃ¬nï¼ŒxuÃ¡n pÃ¬n zhÄ« mÃ©nï¼ŒshÃ¬ wÃ¨i tiÄn dÃ¬ gÄ“nã€‚", yi: "ç©ºè™šçš„ç¥æ°¸ä¸æ­»ç­ï¼Œè¿™å°±æ˜¯å¾®å¦™çš„æ¯æ€§ï¼Œå¾®å¦™æ¯æ€§çš„é—¨æˆ·ï¼Œå°±æ˜¯å¤©åœ°çš„æ ¹æºã€‚", keywords: ["ç”Ÿè‚²", "æ ¹æº", "æ°¸æ’"], tips: "é“æ˜¯ä¸‡ç‰©ç”Ÿç”Ÿä¸æ¯çš„æºå¤´ï¼Œç„ç‰=é€ ç‰©ä¸»", key: "è°·ç¥ä¸æ­»ï¼Œæ˜¯è°“ç„ç‰" },
            { id: 7, title: "ç¬¬7ç«  - å¤©é•¿åœ°ä¹…", content: "å¤©é•¿åœ°ä¹…ï¼Œå¤©åœ°æ‰€ä»¥èƒ½é•¿ä¸”ä¹…è€…ï¼Œä»¥å…¶ä¸è‡ªç”Ÿï¼Œæ•…èƒ½é•¿ç”Ÿã€‚", pinyin: "tiÄn chÃ¡ng dÃ¬ jiÇ”ï¼ŒtiÄn dÃ¬ suÇ’ yÇ nÃ©ng chÃ¡ng qiÄ› jiÇ” zhÄ›ï¼ŒyÇ qÃ­ bÃ¹ zÃ¬ shÄ“ngï¼ŒgÃ¹ nÃ©ng chÃ¡ng shÄ“ngã€‚", yi: "å¤©é•¿åœ°ä¹…ï¼Œå¤©åœ°ä¹‹æ‰€ä»¥èƒ½é•¿ä¹…å­˜åœ¨ï¼Œæ˜¯å› ä¸ºå®ƒä¸æ˜¯ä¸ºäº†è‡ªå·±è€Œç”Ÿå­˜ï¼Œæ‰€ä»¥èƒ½å¤Ÿé•¿ä¹…å­˜åœ¨ã€‚", keywords: ["æ— ç§", "é•¿ä¹…", "åˆ©ä»–"], tips: "æ— ç§æ‰èƒ½é•¿ä¹…ï¼Œåˆ©ä»–=åˆ©å·±", key: "ä»¥å…¶ä¸è‡ªç”Ÿï¼Œæ•…èƒ½é•¿ç”Ÿ" },
            { id: 8, title: "ç¬¬8ç«  - ä¸Šå–„è‹¥æ°´", content: "ä¸Šå–„è‹¥æ°´ï¼Œæ°´å–„åˆ©ä¸‡ç‰©è€Œä¸äº‰ã€‚", pinyin: "shÃ ng shÃ n ruÃ² shuÇï¼ŒshuÇ shÃ n lÃ¬ wÃ n wÃ¹ Ã©r bÃ¹ zhÄ“ngã€‚", yi: "æœ€ä¸Šç­‰çš„å–„å°±åƒæ°´ä¸€æ ·ï¼Œæ°´å–„äºæ»‹æ¶¦ä¸‡ç‰©è€Œä¸ä¸ä¸‡ç‰©ç›¸äº‰ã€‚", keywords: ["æ°´", "å–„åˆ©", "ä¸äº‰"], tips: "æ°´çš„ä¸ƒç§ç¾å¾·ï¼Œä¸äº‰æ˜¯æœ€é«˜å¢ƒç•Œ", key: "ä¸Šå–„è‹¥æ°´ï¼Œæ°´å–„åˆ©ä¸‡ç‰©è€Œä¸äº‰" },
            { id: 9, title: "ç¬¬9ç«  - åŠŸæˆèº«é€€", content: "æŒè€Œç›ˆä¹‹ï¼Œä¸å¦‚å…¶å·²ï¼›æ£è€Œé”ä¹‹ï¼Œä¸å¯é•¿ä¿ã€‚", pinyin: "chÃ­ Ã©r yÃ­ng zhÄ«ï¼ŒbÃ¹ rÃº qÃ­ yÇï¼›chuÇi Ã©r ruÃ¬ zhÄ«ï¼ŒbÃ¹ kÄ› zhÇng bÇoã€‚", yi: "ä¿æŒç›ˆæ»¡ï¼Œä¸å¦‚é€‚å¯è€Œæ­¢ï¼›é”¤ç‚¼ä½¿å®ƒé”åˆ©ï¼Œä¸èƒ½é•¿ä¹…ä¿æŒã€‚", keywords: ["çŸ¥æ­¢", "åŠŸæˆèº«é€€", "é€‚å¯è€Œæ­¢"], tips: "æ»¡åˆ™æº¢ï¼Œé”åˆ™æŠ˜ï¼ŒçŸ¥é“é€‚å¯è€Œæ­¢", key: "æŒè€Œç›ˆä¹‹ï¼Œä¸å¦‚å…¶å·²" },
            { id: 10, title: "ç¬¬10ç«  - è¥é­„æŠ±ä¸€", content: "è½½è¥é­„æŠ±ä¸€ï¼Œèƒ½æ— ç¦»ä¹ï¼Ÿä¸“æ°”è‡´æŸ”ï¼Œèƒ½å¦‚å©´å„¿ä¹ï¼Ÿ", pinyin: "zÃ i yÃ­ng pÃ o yÄ«ï¼ŒnÃ©ng wÃº lÃ­ hÅ«ï¼ŸzhuÄn qÃ¬ zhÃ¬ rÃ³uï¼ŒnÃ©ng rÃº yÄ«ng Ã©r hÅ«ï¼Ÿ", yi: "ç²¾ç¥å’Œå½¢ä½“åˆä¸€ï¼Œèƒ½ä¸åˆ†ç¦»å—ï¼Ÿèšé›†ç²¾æ°”è¾¾åˆ°æŸ”å’Œï¼Œèƒ½åƒå©´å„¿ä¸€æ ·å—ï¼Ÿ", keywords: ["èº«å¿ƒåˆä¸€", "æŸ”å¼±", "å©´å„¿"], tips: "è¿”ç’å½’çœŸï¼ŒæŸ”è½¯èƒœåˆšå¼º", key: "è½½è¥é­„æŠ±ä¸€ï¼Œèƒ½æ— ç¦»ä¹" },
            { id: 11, title: "ç¬¬11ç«  - æœ‰æ— ç›¸ç”Ÿ", content: "ä¸‰åè¾å…±ä¸€æ¯‚ï¼Œå½“å…¶æ— ï¼Œæœ‰è½¦ä¹‹ç”¨ã€‚", pinyin: "sÄn shÃ­ fÃº gÃ²ng yÄ« gÅ«ï¼ŒdÄng qÃ­ wÃºï¼ŒyÇ’u chÄ“ zhÄ« yÃ²ngã€‚", yi: "ä¸‰åæ ¹è¾æ¡æ±‡é›†åœ¨ä¸€ä¸ªè½¦æ¯‚ä¸Šï¼Œæ­£æ˜¯å› ä¸ºè½¦æ¯‚ä¸­é—´æ˜¯ç©ºçš„ï¼Œæ‰èƒ½å‘æŒ¥è½¦çš„ä½œç”¨ã€‚", keywords: ["æœ‰ä¸æ— ", "è™šç©º", "æœ‰ç”¨"], tips: "ç¢—çš„ç”¨é€”åœ¨äºä¸­é—´çš„ç©ºï¼Œæ— ç”¨ä¹‹ç”¨", key: "ä¸‰åè¾å…±ä¸€æ¯‚ï¼Œå½“å…¶æ— " },
            { id: 12, title: "ç¬¬12ç«  - äº”è‰²ä»¤äººç›®ç›²", content: "äº”è‰²ä»¤äººç›®ç›²ï¼Œäº”éŸ³ä»¤äººè€³è‹ï¼Œäº”å‘³ä»¤äººå£çˆ½ã€‚", pinyin: "wÇ” sÃ¨ lÃ¬ng rÃ©n mÃ¹ mÃ¡ngï¼ŒwÇ” yÄ«n lÃ¬ng rÃ©n Ä›r lÃ³ngï¼ŒwÇ” wÃ¨i lÃ¬ng rÃ©n kÇ’u shuÇngã€‚", yi: "äº”é¢œç¼¤çº·çš„è‰²å½©ä½¿äººçœ¼èŠ±ç¼­ä¹±ï¼Œå„ç§å£°éŸ³ä½¿äººå¬è§‰è¿Ÿé’ï¼Œå„ç§æ»‹å‘³ä½¿äººå‘³è§‰é”™ä¹±ã€‚", keywords: ["æ¬²æœ›", "èŠ‚åˆ¶", "è¿”ç’å½’çœŸ"], tips: "æ„Ÿå®˜åˆºæ¿€çš„å®³å¤„ï¼Œç®€å•ç”Ÿæ´»çš„æ™ºæ…§", key: "äº”è‰²ä»¤äººç›®ç›²" },
            { id: 13, title: "ç¬¬13ç«  - å® è¾±è‹¥æƒŠ", content: "å® è¾±è‹¥æƒŠï¼Œè´µå¤§æ‚£è‹¥èº«ã€‚", pinyin: "chÇ’ng rÇ” ruÃ² jÄ«ngï¼ŒguÃ¬ dÃ  huÃ n ruÃ² shÄ“nã€‚", yi: "å¾—åˆ°å® çˆ±å’Œé­å—å±ˆè¾±éƒ½æ„Ÿåˆ°æƒŠæƒ¶ï¼Œé‡è§†å¤§æ‚£åƒé‡è§†è‡ªèº«ä¸€æ ·ã€‚", keywords: ["å® è¾±", "æ‚£å¾—æ‚£å¤±", "è¶…è„±"], tips: "æ”¾ä¸‹å¯¹å¾—å¤±çš„æ‰§ç€", key: "å® è¾±è‹¥æƒŠï¼Œè´µå¤§æ‚£è‹¥èº«" },
            { id: 14, title: "ç¬¬14ç«  - å¤·å¸Œå¾®", content: "è§†ä¹‹ä¸è§åæ›°å¤·ï¼Œå¬ä¹‹ä¸é—»åæ›°å¸Œï¼Œæä¹‹ä¸å¾—åæ›°å¾®ã€‚", pinyin: "shÃ¬ zhÄ« bÃ¹ jiÃ n mÃ­ng yÄ« yÃ­ï¼ŒtÄ«ng zhÄ« bÃ¹ wÃ©n mÃ­ng yÄ« xÄ«ï¼ŒbÃ³ zhÄ« bÃ¹ dÃ© mÃ­ng yÄ« wÄ“iã€‚", yi: "çœ‹å®ƒçœ‹ä¸è§å«'å¤·'ï¼Œå¬å®ƒå¬ä¸åˆ°å«'å¸Œ'ï¼Œæ‘¸å®ƒæ‘¸ä¸ç€å«'å¾®'ã€‚", keywords: ["é“ä¹‹å½¢", "è™šæ— ", "ä¸å¯æ„ŸçŸ¥"], tips: "é“æ˜¯æ— å½¢æ— ç›¸çš„ï¼Œè¶…è¶Šæ„Ÿå®˜", key: "è§†ä¹‹ä¸è§åæ›°å¤·" },
            { id: 15, title: "ç¬¬15ç«  - å–„ä¸ºé“è€…", content: "å¤ä¹‹å–„ä¸ºé“è€…ï¼Œå¾®å¦™ç„é€šï¼Œæ·±ä¸å¯è¯†ã€‚", pinyin: "gÇ” zhÄ« shÃ n wÃ¨i dÃ o zhÄ›ï¼ŒwÄ“i miÃ o xuÃ¡n tÅngï¼ŒshÄ“n bÃ¹ kÄ› shÃ­ã€‚", yi: "å¤ä»£å–„äºè¡Œé“çš„äººï¼Œå¾®å¦™é€šè¾¾ï¼Œæ·±é‚ƒå¾—æ— æ³•è®¤è¯†ã€‚", keywords: ["è¡Œé“è€…", "å¾®å¦™", "é«˜æ·±"], tips: "å¾—é“ä¹‹äººçš„ç‰¹å¾ï¼Œå¤§æ™ºè‹¥æ„š", key: "å¤ä¹‹å–„ä¸ºé“è€…" },
            { id: 16, title: "ç¬¬16ç«  - å¤å‘½æ›°å¸¸", content: "è‡´è™šæï¼Œå®ˆé™ç¬ƒã€‚ä¸‡ç‰©å¹¶ä½œï¼Œå¾ä»¥è§‚å…¶å¤ã€‚", pinyin: "zhÃ¬ xÅ« jÃ­ï¼ŒshÇ’u jÃ¬ng dÇ”ã€‚wÃ n wÃ¹ bÃ¬ng zuÃ²ï¼ŒwÃº yÇ guÄn qÃ­ fÃ¹ã€‚", yi: "è¾¾åˆ°æåº¦ç©ºè™šï¼Œä¿æŒæåº¦å®é™ã€‚ä¸‡ç‰©è“¬å‹ƒç”Ÿé•¿ï¼Œæˆ‘å› æ­¤è§‚å¯Ÿå®ƒä»¬çš„å¾ªç¯å¾€å¤ã€‚", keywords: ["è™šé™", "å¤å½’", "å¸¸é“"], tips: "é™è§‚ä¸‡ç‰©å˜åŒ–ï¼Œå¤å½’æœ¬æ€§æ˜¯å¸¸é“", key: "è‡´è™šæï¼Œå®ˆé™ç¬ƒ" },
            { id: 17, title: "ç¬¬17ç«  - å¤ªä¸Š", content: "å¤ªä¸Šï¼Œä¸‹çŸ¥æœ‰ä¹‹ã€‚å…¶æ¬¡ï¼Œäº²è€Œèª‰ä¹‹ã€‚", pinyin: "tÃ i shÃ ngï¼ŒxiÃ  zhÄ« yÇ’u zhÄ«ã€‚qÃ­ cÃ¬ï¼ŒqÄ«n Ã©r yÃ¹ zhÄ«ã€‚", yi: "æœ€å¥½çš„ç»Ÿæ²»è€…ï¼Œæ°‘ä¼—åªçŸ¥é“æœ‰ä»–å­˜åœ¨ï¼›å…¶æ¬¡çš„ï¼Œæ°‘ä¼—äº²è¿‘ä»–èµç¾ä»–ã€‚", keywords: ["ç»Ÿæ²»è€…", "æ— ä¸ºè€Œæ²»"], tips: "æœ€é«˜å¢ƒç•Œæ˜¯æ— ä¸ºè€Œæ²»ï¼Œæ¶¦ç‰©ç»†æ— å£°", key: "å¤ªä¸Šï¼Œä¸‹çŸ¥æœ‰ä¹‹" },
            { id: 18, title: "ç¬¬18ç«  - å¤§é“åºŸ", content: "å¤§é“åºŸï¼Œæœ‰ä»ä¹‰ï¼›æ…§æ™ºå‡ºï¼Œæœ‰å¤§ä¼ªã€‚", pinyin: "dÃ o dÃ o fÃ¨iï¼ŒyÇ’u rÃ©n yÃ¬ï¼›huÃ¬ zhÃ¬ chÅ«ï¼ŒyÇ’u dÃ  wÄ›iã€‚", yi: "å¤§é“è¢«åºŸå¼ƒäº†ï¼Œæ‰å‡ºç°äº†ä»ä¹‰ï¼›æ™ºæ…§å‡ºç°äº†ï¼Œæ‰æœ‰äº†ä¸¥é‡çš„è™šä¼ªã€‚", keywords: ["ä»ä¹‰", "æ™ºæ…§", "ä¼ªå–„"], tips: "æå€¡ä»€ä¹ˆè¯´æ˜ç¼ºä»€ä¹ˆï¼Œè¿”ç’å½’çœŸ", key: "å¤§é“åºŸï¼Œæœ‰ä»ä¹‰" },
            { id: 19, title: "ç¬¬19ç«  - ç»åœ£å¼ƒæ™º", content: "ç»åœ£å¼ƒæ™ºï¼Œæ°‘åˆ©ç™¾å€ï¼›ç»ä»å¼ƒä¹‰ï¼Œæ°‘å¤å­æ…ˆã€‚", pinyin: "juÃ© shÃ¨ng qÃ¬ zhÃ¬ï¼ŒmÃ­n lÃ¬ bÇi bÃ¨iï¼›juÃ© rÃ©n qÃ¬ yÃ¬ï¼ŒmÃ­n fÃ¹ xiÃ o cÃ­ã€‚", yi: "æŠ›å¼ƒèªæ˜æ™ºå·§ï¼Œæ°‘ä¼—å°±æœ‰ç™¾å€çš„åˆ©ç›Šï¼›æŠ›å¼ƒä»ä¹‰ï¼Œæ°‘ä¼—å°±èƒ½æ¢å¤æ…ˆå­çš„æœ¬æ€§ã€‚", keywords: ["è¿”ç’å½’çœŸ", "çº¯æœ´", "å­æ…ˆ"], tips: "å›å½’çº¯æœ´ï¼Œæœ¬æ€§æ‰æ˜¯çœŸ", key: "ç»åœ£å¼ƒæ™ºï¼Œæ°‘åˆ©ç™¾å€" },
            { id: 20, title: "ç¬¬20ç«  - ç»å­¦æ— å¿§", content: "ç»å­¦æ— å¿§ã€‚å”¯ä¹‹ä¸é˜¿ï¼Œç›¸å»å‡ ä½•ï¼Ÿ", pinyin: "juÃ© xuÃ© wÃº yÅuã€‚wÃ©i zhÄ« yÇ” Äï¼ŒxiÄng qÃ¹ jÇ hÃ©ï¼Ÿ", yi: "æŠ›å¼ƒå­¦é—®å°±æ²¡æœ‰å¿§è™‘äº†ã€‚æ­æ•¬åœ°ç­”åº”ä¸æ€ æ…¢åœ°ç­”åº”ï¼Œç›¸å·®å¤šå°‘ï¼Ÿ", keywords: ["å­¦æ— å¿§", "æ— ä¸º", "æ·¡ç„¶"], tips: "å°‘ç§å¯¡æ¬²ï¼Œè¶…ç„¶æ˜¯éå¾—å¤±", key: "ç»å­¦æ— å¿§" }
        ];

        // State
        let currentMode = 'flashcard';
        let currentChapter = 0;
        let isCardFlipped = false;
        let quizChapter = 0;
        let progress = JSON.parse(localStorage.getItem('taoProgress') || '{}');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateProgress();
            renderChapterList();
        });

        // Mode switching
        function showMode(mode) {
            document.querySelectorAll('[id$="-mode"]').forEach(el => el.classList.add('hidden'));
            document.getElementById(`${mode}-mode`).classList.remove('hidden');
            currentMode = mode;
        }

        // Flashcard functions
        function flipCard() {
            isCardFlipped = !isCardFlipped;
            const card = document.getElementById('flashcard');
            if (isCardFlipped) {
                card.querySelector('#fc-content').textContent = chapters[currentChapter].yi;
                card.querySelector('#fc-pinyin').textContent = chapters[currentChapter].keywords.join(' | ');
            } else {
                card.querySelector('#fc-content').textContent = chapters[currentChapter].content;
                card.querySelector('#fc-pinyin').textContent = chapters[currentChapter].pinyin;
            }
        }

        function nextCard() {
            currentChapter = (currentChapter + 1) % chapters.length;
            isCardFlipped = false;
            updateFlashcard();
        }

        function prevCard() {
            currentChapter = (currentChapter - 1 + chapters.length) % chapters.length;
            isCardFlipped = false;
            updateFlashcard();
        }

        function updateFlashcard() {
            document.getElementById('fc-chapter').textContent = chapters[currentChapter].title;
            document.getElementById('fc-content').textContent = chapters[currentChapter].content;
            document.getElementById('fc-pinyin').textContent = chapters[currentChapter].pinyin;
        }

        function markRemembered() {
            progress[chapters[currentChapter].id] = 'mastered';
            localStorage.setItem('taoProgress', JSON.stringify(progress));
            updateProgress();
            nextCard();
        }

        // Memorize functions
        function nextMemorize() {
            currentChapter = (currentChapter + 1) % chapters.length;
            updateMemorize();
        }

        function prevMemorize() {
            currentChapter = (currentChapter - 1 + chapters.length) % chapters.length;
            updateMemorize();
        }

        function updateMemorize() {
            document.getElementById('mem-chapter').textContent = chapters[currentChapter].title;
            document.getElementById('mem-content').querySelector('p:first-of-type').textContent = chapters[currentChapter].content;
            document.getElementById('mem-hint').classList.add('hidden');
        }

        function toggleMemorizeShow() {
            const el = document.getElementById('mem-content').querySelector('p:first-of-type');
            el.classList.toggle('opacity-20');
        }

        function toggleMemorizeHint() {
            document.getElementById('mem-hint').classList.toggle('hidden');
        }

        function markMemorized() {
            progress[chapters[currentChapter].id] = 'mastered';
            localStorage.setItem('taoProgress', JSON.stringify(progress));
            updateProgress();
            nextMemorize();
        }

        // Quiz functions
        function startQuiz(chapterId) {
            quizChapter = chapters.find(c => c.id === chapterId);
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('quiz-question').classList.remove('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            document.getElementById('quiz-text').textContent = `è¯·å¡«ç©ºï¼š"${quizChapter.key}" åé¢æ˜¯ä»€ä¹ˆï¼Ÿ`;
            document.getElementById('quiz-answer').value = '';
        }

        function checkQuiz() {
            const answer = document.getElementById('quiz-answer').value.trim();
            const result = document.getElementById('quiz-result');
            const resultText = document.getElementById('quiz-result-text');
            
            result.classList.remove('hidden');
            document.getElementById('quiz-question').classList.add('hidden');
            
            if (answer.includes(quizChapter.content.split('ï¼›')[1]) || answer.includes(quizChapter.content)) {
                resultText.textContent = 'âœ… å›ç­”æ­£ç¡®ï¼';
                resultText.className = 'text-xl font-bold text-green-500';
                progress[quizChapter.id] = 'mastered';
            } else {
                resultText.textContent = `âŒ æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${quizChapter.content}`;
                resultText.className = 'text-xl font-bold text-red-500';
                progress[quizChapter.id] = 'learning';
            }
            localStorage.setItem('taoProgress', JSON.stringify(progress));
            updateProgress();
        }

        function showQuizAnswer() {
            const result = document.getElementById('quiz-result');
            result.classList.remove('hidden');
            document.getElementById('quiz-question').classList.add('hidden');
            result.querySelector('#quiz-result-text').textContent = `æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${quizChapter.content}`;
            progress[quizChapter.id] = 'learning';
            localStorage.setItem('taoProgress', JSON.stringify(progress));
        }

        function resetQuiz() {
            document.getElementById('quiz-question').classList.add('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');
        }

        // Read functions
        function renderChapterList(filter = 'all') {
            const container = document.getElementById('chapter-list');
            container.innerHTML = '';
            
            chapters.forEach(ch => {
                let statusClass = 'bg-slate-200';
                let status = 'æœªå¼€å§‹';
                if (progress[ch.id] === 'mastered') {
                    statusClass = 'bg-green-500 text-white';
                    status = 'å·²æŒæ¡';
                } else if (progress[ch.id] === 'learning') {
                    statusClass = 'bg-yellow-500 text-white';
                    status = 'å­¦ä¹ ä¸­';
                }

                if (filter === 'mastered' && progress[ch.id] !== 'mastered') return;
                if (filter === 'learning' && progress[ch.id] !== 'learning') return;
                if (filter === 'new' && progress[ch.id]) return;

                const div = document.createElement('div');
                div.className = 'card p-4 rounded-xl flex justify-between items-center cursor-pointer';
                div.onclick = () => { currentChapter = ch.id - 1; showMode('flashcard'); updateFlashcard(); };
                div.innerHTML = `
                    <div>
                        <h3 class="font-bold text-slate-700">${ch.title}</h3>
                        <p class="text-sm text-slate-500 mt-1">${ch.content.substring(0, 20)}...</p>
                    </div>
                    <span class="${statusClass} px-3 py-1 rounded-full text-sm font-bold">${status}</span>
                `;
                container.appendChild(div);
            });
        }

        function filterChapters(type) {
            renderChapterList(type);
        }

        // Progress
        function updateProgress() {
            const total = chapters.length;
            const mastered = Object.values(progress).filter(v => v === 'mastered').length;
            const percent = (mastered / total) * 100;
            
            document.getElementById('progress-bar').style.width = `${percent}%`;
            document.getElementById('progress-text').textContent = `${mastered}/${total} ç« `;
        }
    </script>
</body>
</html>
