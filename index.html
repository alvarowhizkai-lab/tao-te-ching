<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§§ é“å¾·ç» - èƒŒè¯µÂ·è®°å¿†Â·ç†è§£</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Serif SC', serif; background: linear-gradient(135deg, #f5f0e8 0%, #e8e0d5 100%); }
        .card { background: linear-gradient(145deg, #fff, #f8f6f0); box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .btn { transition: all 0.3s ease; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0,0,0,0.2); }
        .chapter-btn { transition: all 0.2s; }
        .chapter-btn:hover { transform: scale(1.05); }
        .fade-in { animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="min-h-screen">
    <div id="app" class="max-w-6xl mx-auto p-4">
        <header class="text-center py-8">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-800 mb-2">ğŸ§§ é“å¾·ç»</h1>
            <p class="text-slate-500">èƒŒè¯µ Â· è®°å¿† Â· ç†è§£</p>
            <div class="flex justify-center gap-4 mt-4 flex-wrap">
                <button onclick="showMode('flashcard')" class="btn bg-orange-500 text-white px-6 py-2 rounded-full font-bold mb-2">ğŸ“‡ é—ªå¡</button>
                <button onclick="showMode('memorize')" class="btn bg-green-500 text-white px-6 py-2 rounded-full font-bold mb-2">ğŸ¯ èƒŒè¯µ</button>
                <button onclick="showMode('quiz')" class="btn bg-blue-500 text-white px-6 py-2 rounded-full font-bold mb-2">âœï¸ æµ‹éªŒ</button>
                <button onclick="showMode('read')" class="btn bg-purple-500 text-white px-6 py-2 rounded-full font-bold mb-2">ğŸ“– ç ”è¯»</button>
            </div>
        </header>

        <div class="card rounded-2xl p-4 mb-6">
            <div class="flex justify-between items-center mb-2">
                <span class="font-bold text-slate-700">å­¦ä¹ è¿›åº¦</span>
                <span id="progress-text" class="text-orange-600 font-bold">0/20 ç« </span>
            </div>
            <div class="h-4 bg-slate-200 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-gradient-to-r from-orange-400 to-red-500 transition-all duration-500" style="width: 0%"></div>
            </div>
        </div>

        <div id="flashcard-mode" class="fade-in">
            <div class="card rounded-3xl p-8 text-center min-h-[400px] flex flex-col justify-center">
                <div id="flashcard">
                    <div class="text-6xl mb-6">ğŸ“‡</div>
                    <h2 id="fc-chapter" class="text-2xl font-bold text-slate-800 mb-4">ç¬¬1ç« </h2>
                    <p id="fc-content" class="text-xl md:text-2xl text-slate-700 leading-loose">é“å¯é“ï¼Œéå¸¸é“ï¼›åå¯åï¼Œéå¸¸åã€‚</p>
                    <p id="fc-translation" class="hidden mt-6 text-slate-500 italic leading-relaxed">å¯ä»¥è¯´å‡ºæ¥çš„é“ï¼Œå°±ä¸æ˜¯æ°¸æ’çš„é“ï¼›å¯ä»¥å«å‡ºæ¥çš„åï¼Œå°±ä¸æ˜¯æ°¸æ’çš„åã€‚</p>
                </div>
                <div class="flex justify-center gap-4 mt-8 flex-wrap">
                    <button onclick="prevCard()" class="btn bg-slate-300 text-slate-700 px-6 py-3 rounded-full font-bold">â¬…ï¸ ä¸Šä¸€ç« </button>
                    <button onclick="flipCard()" class="btn bg-yellow-500 text-white px-6 py-3 rounded-full font-bold">ğŸ‘ï¸ é‡Šä¹‰</button>
                    <button onclick="markRemembered()" class="btn bg-green-500 text-white px-8 py-3 rounded-full font-bold">âœ… å·²æŒæ¡</button>
                    <button onclick="nextCard()" class="btn bg-orange-500 text-white px-6 py-3 rounded-full font-bold">ä¸‹ä¸€ç«  â¡ï¸</button>
                </div>
            </div>
        </div>

        <div id="memorize-mode" class="hidden fade-in">
            <div class="card rounded-3xl p-8 min-h-[500px]">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="prevMemorize()" class="btn bg-slate-200 px-4 py-2 rounded-full">â¬…ï¸</button>
                    <h2 id="mem-chapter" class="text-2xl font-bold text-slate-800">ç¬¬1ç« </h2>
                    <button onclick="nextMemorize()" class="btn bg-slate-200 px-4 py-2 rounded-full">â¡ï¸</button>
                </div>
                <div id="mem-content" class="text-center">
                    <p id="mem-text" class="text-xl md:text-2xl text-slate-700 leading-loose mb-6">é“å¯é“ï¼Œéå¸¸é“ï¼›åå¯åï¼Œéå¸¸åã€‚</p>
                    <button onclick="toggleMemorizeHint()" class="btn bg-yellow-500 text-white px-6 py-2 rounded-full font-bold mb-4">ğŸ’¡ æç¤º</button>
                    <p id="mem-hint" class="hidden text-slate-500 italic mb-6">è¿™æ˜¯é“å¾·ç»çš„ç¬¬ä¸€ç« ï¼Œè®¨è®ºäº†é“çš„æœ¬è´¨...</p>
                </div>
                <div class="flex justify-center gap-4 mt-6 flex-wrap">
                    <button onclick="toggleMemorizeShow()" class="btn bg-blue-500 text-white px-6 py-3 rounded-full font-bold">ğŸ‘ï¸ æ˜¾ç¤º/éšè—</button>
                    <button onclick="markMemorized()" class="btn bg-green-500 text-white px-6 py-3 rounded-full font-bold">âœ… èƒŒè¯µå®Œæˆ</button>
                </div>
            </div>
        </div>

        <div id="quiz-mode" class="hidden fade-in">
            <div class="card rounded-3xl p-8 min-h-[400px]">
                <h2 class="text-2xl font-bold text-slate-800 mb-6 text-center">âœï¸ ç« èŠ‚æµ‹éªŒ</h2>
                <div id="quiz-container" class="text-center">
                    <p class="text-lg text-slate-600 mb-6">è¯·é€‰æ‹©è¦æµ‹éªŒçš„ç« èŠ‚ï¼š</p>
                    <div class="grid grid-cols-5 gap-2 max-w-md mx-auto" id="quiz-buttons"></div>
                </div>
                <div id="quiz-question" class="hidden mt-6">
                    <p id="quiz-text" class="text-lg md:text-xl text-slate-700 mb-6">è¯·å¡«ç©ºï¼š</p>
                    <input type="text" id="quiz-answer" class="w-full max-w-md mx-auto block p-4 border-2 border-slate-300 rounded-xl text-center text-lg mb-4" placeholder="è¾“å…¥ç­”æ¡ˆ...">
                    <div class="flex justify-center gap-4 flex-wrap">
                        <button onclick="checkQuiz()" class="btn bg-green-500 text-white px-8 py-3 rounded-full font-bold">âœ… æäº¤</button>
                        <button onclick="showQuizAnswer()" class="btn bg-red-500 text-white px-6 py-3 rounded-full font-bold">âŒ æ˜¾ç¤ºç­”æ¡ˆ</button>
                    </div>
                </div>
                <div id="quiz-result" class="hidden mt-6 text-center">
                    <p id="quiz-result-text" class="text-xl font-bold"></p>
                    <button onclick="resetQuiz()" class="btn bg-blue-500 text-white px-6 py-3 rounded-full font-bold mt-4">ğŸ”„ å†æµ‹ä¸€æ¬¡</button>
                </div>
            </div>
        </div>

        <div id="read-mode" class="hidden fade-in">
            <div class="card rounded-3xl p-8 min-h-[500px]">
                <h2 class="text-2xl font-bold text-slate-800 mb-6 text-center">ğŸ“– ç ”è¯»</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
                    <button onclick="filterChapters('all')" class="btn bg-slate-700 text-white py-2 rounded-full text-sm">å…¨éƒ¨</button>
                    <button onclick="filterChapters('mastered')" class="btn bg-green-500 text-white py-2 rounded-full text-sm">å·²æŒæ¡</button>
                    <button onclick="filterChapters('learning')" class="btn bg-yellow-500 text-white py-2 rounded-full text-sm">å­¦ä¹ ä¸­</button>
                    <button onclick="filterChapters('new')" class="btn bg-orange-500 text-white py-2 rounded-full text-sm">æœªå¼€å§‹</button>
                </div>
                <div id="chapter-list" class="max-h-[500px] overflow-y-auto scrollbar-hide space-y-3"></div>
            </div>
        </div>

        <footer class="text-center py-8 text-slate-400 text-sm">
            <p>ğŸ§§ é“å¾·ç»å­¦ä¹ åŠ©æ‰‹ | å®Œæ•´åŸæ–‡ç‰ˆ</p>
            <p class="mt-2">ğŸ’¾ å­¦ä¹ è¿›åº¦è‡ªåŠ¨ä¿å­˜</p>
        </footer>
    </div>

    <script>
        const chapters = [
            { id: 1, title: "ç¬¬1ç« ", content: "é“å¯é“ï¼Œéå¸¸é“ï¼›åå¯åï¼Œéå¸¸åã€‚æ— åå¤©åœ°ä¹‹å§‹ï¼›æœ‰åä¸‡ç‰©ä¹‹æ¯ã€‚æ•…å¸¸æ— æ¬²ï¼Œä»¥è§‚å…¶å¦™ï¼›å¸¸æœ‰æ¬²ï¼Œä»¥è§‚å…¶å¾¼ã€‚æ­¤ä¸¤è€…åŒå‡ºè€Œå¼‚åï¼ŒåŒè°“ä¹‹ç„ï¼Œç„ä¹‹åˆç„ï¼Œä¼—å¦™ä¹‹é—¨ã€‚", translation: "å¯ä»¥è¯´å‡ºæ¥çš„é“ï¼Œå°±ä¸æ˜¯æ°¸æ’çš„é“ï¼›å¯ä»¥å«å‡ºæ¥çš„åï¼Œå°±ä¸æ˜¯æ°¸æ’çš„åã€‚æ— åæ˜¯å¤©åœ°çš„å¼€å§‹ï¼Œæœ‰åæ˜¯ä¸‡ç‰©çš„æ ¹æºã€‚", key: "é“å¯é“" },
            { id: 2, title: "ç¬¬2ç« ", content: "å¤©ä¸‹çš†çŸ¥ç¾ä¹‹ä¸ºç¾ï¼Œæ–¯æ¶å·²ï¼›çš†çŸ¥å–„ä¹‹ä¸ºå–„ï¼Œæ–¯ä¸å–„å·²ã€‚æ•…æœ‰æ— ç›¸ç”Ÿï¼Œéš¾æ˜“ç›¸æˆï¼Œé•¿çŸ­ç›¸è¾ƒï¼Œé«˜ä¸‹ç›¸å€¾ï¼ŒéŸ³å£°ç›¸å’Œï¼Œå‰åç›¸éšã€‚æ˜¯ä»¥åœ£äººå¤„æ— ä¸ºä¹‹äº‹ï¼Œè¡Œä¸è¨€ä¹‹æ•™ï¼›ä¸‡ç‰©ä½œç„‰è€Œä¸è¾ï¼Œç”Ÿè€Œä¸æœ‰ï¼Œä¸ºè€Œä¸æƒï¼ŒåŠŸæˆè€Œå¼—å±…ã€‚å¤«å”¯å¼—å±…ï¼Œæ˜¯ä»¥ä¸å»ã€‚", translation: "å¤©ä¸‹äººéƒ½çŸ¥é“ç¾ä¹‹æ‰€ä»¥ä¸ºç¾ï¼Œä¸‘çš„å°±å‡ºç°äº†ï¼›éƒ½çŸ¥é“å–„ä¹‹æ‰€ä»¥ä¸ºå–„ï¼Œæ¶çš„å°±å‡ºç°äº†ã€‚", key: "å¤©ä¸‹çš†çŸ¥ç¾ä¹‹ä¸ºç¾" },
            { id: 3, title: "ç¬¬3ç« ", content: "ä¸å°šè´¤ï¼Œä½¿æ°‘ä¸äº‰ï¼›ä¸è´µéš¾å¾—ä¹‹è´§ï¼Œä½¿æ°‘ä¸ä¸ºç›—ï¼›ä¸è§å¯æ¬²ï¼Œä½¿æ°‘å¿ƒä¸ä¹±ã€‚æ˜¯ä»¥åœ£äººä¹‹æ²»ï¼Œè™šå…¶å¿ƒï¼Œå®å…¶è…¹ï¼Œå¼±å…¶å¿—ï¼Œå¼ºå…¶éª¨ã€‚å¸¸ä½¿æ°‘æ— çŸ¥æ— æ¬²ï¼Œä½¿å¤«çŸ¥è€…ä¸æ•¢ä¸ºä¹Ÿã€‚ä¸ºæ— ä¸ºï¼Œåˆ™æ— ä¸æ²»ã€‚", translation: "ä¸æ¨å´‡æœ‰æ‰å¾·çš„äººï¼Œä½¿æ°‘ä¼—ä¸äº‰åŠŸåã€‚", key: "ä¸å°šè´¤" },
            { id: 4, title: "ç¬¬4ç« ", content: "é“å†²è€Œç”¨ä¹‹æˆ–ä¸ç›ˆï¼Œæ¸Šå…®ä¼¼ä¸‡ç‰©ä¹‹å®—ã€‚æŒ«å…¶é”ï¼Œè§£å…¶çº·ï¼Œå’Œå…¶å…‰ï¼ŒåŒå…¶å°˜ã€‚æ¹›å…®ä¼¼æˆ–å­˜ï¼Œå¾ä¸çŸ¥è°ä¹‹å­ï¼Œè±¡å¸ä¹‹å…ˆã€‚", translation: "é“æ˜¯ç©ºè™šçš„ï¼Œä½†å®ƒçš„ä½œç”¨æ— ç©·æ— å°½ï¼Œæ·±é‚ƒå•Šå¥½åƒä¸‡ç‰©çš„ç¥–å…ˆã€‚", key: "é“å†²è€Œç”¨ä¹‹" },
            { id: 5, title: "ç¬¬5ç« ", content: "å¤©åœ°ä¸ä»ï¼Œä»¥ä¸‡ç‰©ä¸ºåˆç‹—ï¼›åœ£äººä¸ä»ï¼Œä»¥ç™¾å§“ä¸ºåˆç‹—ã€‚å¤©åœ°ä¹‹é—´ï¼Œå…¶çŠ¹æ©ç±¥ä¹ï¼Ÿè™šè€Œä¸å±ˆï¼ŒåŠ¨è€Œæ„ˆå‡ºã€‚å¤šè¨€æ•°ç©·ï¼Œä¸å¦‚å®ˆä¸­ã€‚", translation: "å¤©åœ°æ— æ‰€è°“ä»æ…ˆï¼Œå¯¹å¾…ä¸‡ç‰©åƒå¯¹å¾…è‰ç‹—ä¸€æ ·ã€‚", key: "å¤©åœ°ä¸ä»" },
            { id: 6, title: "ç¬¬6ç« ", content: "è°·ç¥ä¸æ­»ï¼Œæ˜¯è°“ç„ç‰ã€‚ç„ç‰ä¹‹é—¨ï¼Œæ˜¯è°“å¤©åœ°æ ¹ã€‚ç»µç»µè‹¥å­˜ï¼Œç”¨ä¹‹ä¸å‹¤ã€‚", translation: "ç©ºè™šçš„ç¥æ°¸ä¸æ­»ç­ï¼Œè¿™å°±å«åšå¾®å¦™çš„æ¯æ€§ã€‚", key: "è°·ç¥ä¸æ­»" },
            { id: 7, title: "ç¬¬7ç« ", content: "å¤©é•¿åœ°ä¹…ã€‚å¤©åœ°æ‰€ä»¥èƒ½é•¿ä¸”ä¹…è€…ï¼Œä»¥å…¶ä¸è‡ªç”Ÿï¼Œæ•…èƒ½é•¿ç”Ÿã€‚æ˜¯ä»¥åœ£äººåå…¶èº«è€Œèº«å…ˆï¼Œå¤–å…¶èº«è€Œèº«å­˜ã€‚éä»¥å…¶æ— ç§é‚ªï¼Ÿæ•…èƒ½æˆå…¶ç§ã€‚", translation: "å¤©é•¿åœ°ä¹…ã€‚å¤©åœ°ä¹‹æ‰€ä»¥èƒ½é•¿ä¹…å­˜åœ¨ï¼Œæ˜¯å› ä¸ºå®ƒä¸æ˜¯ä¸ºäº†è‡ªå·±è€Œç”Ÿå­˜ã€‚", key: "å¤©é•¿åœ°ä¹…" },
            { id: 8, title: "ç¬¬8ç« ", content: "ä¸Šå–„è‹¥æ°´ã€‚æ°´å–„åˆ©ä¸‡ç‰©è€Œä¸äº‰ï¼Œå¤„ä¼—äººä¹‹æ‰€æ¶ï¼Œæ•…å‡ äºé“ã€‚å±…å–„åœ°ï¼Œå¿ƒå–„æ¸Šï¼Œä¸å–„ä»ï¼Œè¨€å–„ä¿¡ï¼Œæ­£å–„æ²»ï¼Œäº‹å–„èƒ½ï¼ŒåŠ¨å–„æ—¶ã€‚å¤«å”¯ä¸äº‰ï¼Œæ•…æ— å°¤ã€‚", translation: "æœ€ä¸Šç­‰çš„å–„å°±åƒæ°´ä¸€æ ·ã€‚æ°´å–„äºæ»‹æ¶¦ä¸‡ç‰©è€Œä¸ä¸ä¸‡ç‰©ç›¸äº‰ã€‚", key: "ä¸Šå–„è‹¥æ°´" },
            { id: 9, title: "ç¬¬9ç« ", content: "æŒè€Œç›ˆä¹‹ï¼Œä¸å¦‚å…¶å·²ã€‚æ£è€Œé”ä¹‹ï¼Œä¸å¯é•¿ä¿ã€‚é‡‘ç‰æ»¡å ‚ï¼Œè«ä¹‹èƒ½å®ˆã€‚å¯Œè´µè€Œéª„ï¼Œè‡ªé—å…¶å’ã€‚åŠŸé‚èº«é€€ï¼Œå¤©ä¹‹é“ä¹Ÿã€‚", translation: "ä¿æŒç›ˆæ»¡ï¼Œä¸å¦‚é€‚å¯è€Œæ­¢ã€‚", key: "æŒè€Œç›ˆä¹‹" },
            { id: 10, title: "ç¬¬10ç« ", content: "è½½è¥é­„æŠ±ä¸€ï¼Œèƒ½æ— ç¦»ä¹ï¼Ÿä¸“æ°”è‡´æŸ”ï¼Œèƒ½å¦‚å©´å„¿ä¹ï¼Ÿæ¶¤é™¤ç„é‰´ï¼Œèƒ½æ— ç–µä¹ï¼Ÿçˆ±æ°‘æ²»å›½ï¼Œèƒ½æ— ä¸ºä¹ï¼Ÿå¤©é—¨å¼€é˜–ï¼Œèƒ½ä¸ºé›Œä¹ï¼Ÿæ˜ç™½å››è¾¾ï¼Œèƒ½æ— çŸ¥ä¹ï¼Ÿ", translation: "ç²¾ç¥å’Œå½¢ä½“åˆä¸€ï¼Œèƒ½ä¸åˆ†ç¦»å—ï¼Ÿ", key: "è½½è¥é­„æŠ±ä¸€" },
            { id: 11, title: "ç¬¬11ç« ", content: "ä¸‰åè¾å…±ä¸€æ¯‚ï¼Œå½“å…¶æ— ï¼Œæœ‰è½¦ä¹‹ç”¨ã€‚åŸåŸ´ä»¥ä¸ºå™¨ï¼Œå½“å…¶æ— ï¼Œæœ‰å™¨ä¹‹ç”¨ã€‚å‡¿æˆ·ç‰–ä»¥ä¸ºå®¤ï¼Œå½“å…¶æ— ï¼Œæœ‰å®¤ä¹‹ç”¨ã€‚æ•…æœ‰ä¹‹ä»¥ä¸ºåˆ©ï¼Œæ— ä¹‹ä»¥ä¸ºç”¨ã€‚", translation: "ä¸‰åæ ¹è¾æ¡æ±‡é›†åœ¨ä¸€ä¸ªè½¦æ¯‚ä¸Šï¼Œæ­£æ˜¯å› ä¸ºè½¦æ¯‚ä¸­é—´æ˜¯ç©ºçš„ï¼Œæ‰èƒ½å‘æŒ¥è½¦çš„ä½œç”¨ã€‚", key: "ä¸‰åè¾å…±ä¸€æ¯‚" },
            { id: 12, title: "ç¬¬12ç« ", content: "äº”è‰²ä»¤äººç›®ç›²ï¼Œäº”éŸ³ä»¤äººè€³è‹ï¼Œäº”å‘³ä»¤äººå£çˆ½ï¼Œé©°éª‹ç•‹çŒä»¤äººå¿ƒå‘ç‹‚ï¼Œéš¾å¾—ä¹‹è´§ä»¤äººè¡Œå¦¨ã€‚æ˜¯ä»¥åœ£äººä¸ºè…¹ä¸ä¸ºç›®ï¼Œæ•…å»å½¼å–æ­¤ã€‚", translation: "äº”é¢œç¼¤çº·çš„è‰²å½©ä½¿äººçœ¼èŠ±ç¼­ä¹±ã€‚", key: "äº”è‰²ä»¤äººç›®ç›²" },
            { id: 13, title: "ç¬¬13ç« ", content: "å® è¾±è‹¥æƒŠï¼Œè´µå¤§æ‚£è‹¥èº«ã€‚ä½•è°“å® è¾±è‹¥æƒŠï¼Ÿå® ä¸ºä¸‹ï¼Œå¾—ä¹‹è‹¥æƒŠï¼Œå¤±ä¹‹è‹¥æƒŠï¼Œæ˜¯è°“å® è¾±è‹¥æƒŠã€‚ä½•è°“è´µå¤§æ‚£è‹¥èº«ï¼Ÿå¾æ‰€ä»¥æœ‰å¤§æ‚£è€…ï¼Œä¸ºå¾æœ‰èº«ï¼ŒåŠå¾æ— èº«ï¼Œå¾æœ‰ä½•æ‚£ï¼Ÿæ•…è´µä»¥èº«ä¸ºå¤©ä¸‹ï¼Œè‹¥å¯å¯„å¤©ä¸‹ï¼›çˆ±ä»¥èº«ä¸ºå¤©ä¸‹ï¼Œè‹¥å¯æ‰˜å¤©ä¸‹ã€‚", translation: "å¾—åˆ°å® çˆ±å’Œé­å—å±ˆè¾±éƒ½æ„Ÿåˆ°æƒŠæƒ¶ã€‚", key: "å® è¾±è‹¥æƒŠ" },
            { id: 14, title: "ç¬¬14ç« ", content: "è§†ä¹‹ä¸è§åæ›°å¤·ï¼Œå¬ä¹‹ä¸é—»åæ›°å¸Œï¼Œæä¹‹ä¸å¾—åæ›°å¾®ã€‚æ­¤ä¸‰è€…ä¸å¯è‡´è¯˜ï¼Œæ•…æ··è€Œä¸ºä¸€ã€‚å…¶ä¸Šä¸çš¦ï¼Œå…¶ä¸‹ä¸æ˜§ï¼Œç»³ç»³å…®ä¸å¯åï¼Œå¤å½’äºæ— ç‰©ã€‚æ˜¯è°“æ— çŠ¶ä¹‹çŠ¶ï¼Œæ— ç‰©ä¹‹è±¡ï¼Œæ˜¯è°“ææƒšã€‚", translation: "çœ‹å®ƒçœ‹ä¸è§å«'å¤·'ï¼Œå¬å®ƒå¬ä¸åˆ°å«'å¸Œ'ï¼Œæ‘¸å®ƒæ‘¸ä¸ç€å«'å¾®'ã€‚", key: "è§†ä¹‹ä¸è§" },
            { id: 15, title: "ç¬¬15ç« ", content: "å¤ä¹‹å–„ä¸ºé“è€…ï¼Œå¾®å¦™ç„é€šï¼Œæ·±ä¸å¯è¯†ã€‚å¤«å”¯ä¸å¯è¯†ï¼Œæ•…å¼ºä¸ºä¹‹å®¹ï¼šè±«å…®è‹¥å†¬æ¶‰å·ï¼ŒçŠ¹å…®è‹¥ç•å››é‚»ï¼Œä¿¨å…®å…¶è‹¥å®¢ï¼Œæ¶£å…®è‹¥å†°ä¹‹å°†é‡Šï¼Œæ•¦å…®å…¶è‹¥æœ´ï¼Œæ—·å…®å…¶è‹¥è°·ï¼Œæ··å…®å…¶è‹¥æµŠã€‚", translation: "å¤ä»£å–„äºè¡Œé“çš„äººï¼Œå¾®å¦™é€šè¾¾ï¼Œæ·±é‚ƒå¾—æ— æ³•è®¤è¯†ã€‚", key: "å¤ä¹‹å–„ä¸ºé“è€…" },
            { id: 16, title: "ç¬¬16ç« ", content: "è‡´è™šæï¼Œå®ˆé™ç¬ƒã€‚ä¸‡ç‰©å¹¶ä½œï¼Œå¾ä»¥è§‚å¤ã€‚å¤«ç‰©èŠ¸èŠ¸ï¼Œå„å¤å½’å…¶æ ¹ã€‚å½’æ ¹æ›°é™ï¼Œé™æ›°å¤å‘½ã€‚å¤å‘½æ›°å¸¸ï¼ŒçŸ¥å¸¸æ›°æ˜ã€‚ä¸çŸ¥å¸¸ï¼Œå¦„ä½œå‡¶ã€‚çŸ¥å¸¸å®¹ï¼Œå®¹ä¹ƒå…¬ï¼Œå…¬ä¹ƒç‹ï¼Œç‹ä¹ƒå¤©ï¼Œå¤©ä¹ƒé“ï¼Œé“ä¹ƒä¹…ï¼Œæ®èº«ä¸æ®†ã€‚", translation: "è¾¾åˆ°æåº¦ç©ºè™šï¼Œä¿æŒæåº¦å®é™ã€‚", key: "è‡´è™šæ" },
            { id: 17, title: "ç¬¬17ç« ", content: "å¤ªä¸Šï¼Œä¸‹çŸ¥æœ‰ä¹‹ã€‚å…¶æ¬¡ï¼Œäº²è€Œèª‰ä¹‹ã€‚å…¶æ¬¡ï¼Œç•ä¹‹ã€‚å…¶æ¬¡ï¼Œä¾®ä¹‹ã€‚ä¿¡ä¸è¶³ç„‰ï¼Œæœ‰ä¸ä¿¡ç„‰ã€‚æ‚ å…®å…¶è´µè¨€ã€‚åŠŸæˆäº‹é‚ï¼Œç™¾å§“çš†è°“æˆ‘è‡ªç„¶ã€‚", translation: "æœ€å¥½çš„ç»Ÿæ²»è€…ï¼Œæ°‘ä¼—åªçŸ¥é“æœ‰ä»–å­˜åœ¨ã€‚", key: "å¤ªä¸Š" },
            { id: 18, title: "ç¬¬18ç« ", content: "å¤§é“åºŸï¼Œæœ‰ä»ä¹‰ï¼›æ™ºæ…§å‡ºï¼Œæœ‰å¤§ä¼ªï¼›å…­äº²ä¸å’Œï¼Œæœ‰å­æ…ˆï¼›å›½å®¶æ˜ä¹±ï¼Œæœ‰å¿ è‡£ã€‚", translation: "å¤§é“åºŸå¼ƒäº†ï¼Œæ‰å‡ºç°äº†ä»ä¹‰ã€‚", key: "å¤§é“åºŸ" },
            { id: 19, title: "ç¬¬19ç« ", content: "ç»åœ£å¼ƒæ™ºï¼Œæ°‘åˆ©ç™¾å€ï¼›ç»ä»å¼ƒä¹‰ï¼Œæ°‘å¤å­æ…ˆï¼›ç»å·§å¼ƒåˆ©ï¼Œç›—è´¼æ— æœ‰ã€‚æ­¤ä¸‰è€…ä»¥ä¸ºæ–‡ä¸è¶³ï¼Œæ•…ä»¤æœ‰æ‰€å±ï¼šè§ç´ æŠ±æœ´ï¼Œå°‘ç§å¯¡æ¬²ï¼Œç»å­¦æ— å¿§ã€‚", translation: "æŠ›å¼ƒèªæ˜æ™ºå·§ï¼Œæ°‘ä¼—å°±æœ‰ç™¾å€çš„åˆ©ç›Šã€‚", key: "ç»åœ£å¼ƒæ™º" },
            { id: 20, title: "ç¬¬20ç« ", content: "å”¯ä¹‹ä¸é˜¿ï¼Œç›¸å»å‡ ä½•ï¼Ÿå–„ä¹‹ä¸æ¶ï¼Œç›¸å»è‹¥ä½•ï¼Ÿäººä¹‹æ‰€ç•ï¼Œä¸å¯ä¸ç•ã€‚è’å…®ï¼Œå…¶æœªå¤®å“‰ï¼ä¼—äººç†™ç†™ï¼Œå¦‚äº«å¤ªç‰¢ï¼Œå¦‚æ˜¥ç™»å°ã€‚æˆ‘ç‹¬æ³Šå…®ï¼Œå…¶æœªå…†ã€‚", translation: "åº”è¯ºå’Œæ€ æ…¢ï¼Œç›¸å·®å¤šå°‘ï¼Ÿ", key: "å”¯ä¹‹ä¸é˜¿" }
        ];

        let currentMode = 'flashcard';
        let currentChapter = 0;
        let isCardFlipped = false;
        let quizChapter = 0;
        let progress = JSON.parse(localStorage.getItem('taoProgress') || '{}');

        document.addEventListener('DOMContentLoaded', () => {
            updateProgress();
            renderChapterList();
            renderQuizButtons();
        });

        function showMode(mode) {
            document.querySelectorAll('[id$="-mode"]').forEach(el => el.classList.add('hidden'));
            document.getElementById(`${mode}-mode`).classList.remove('hidden');
            currentMode = mode;
        }

        function flipCard() {
            isCardFlipped = !isCardFlipped;
            document.getElementById('fc-translation').classList.toggle('hidden', !isCardFlipped);
        }

        function nextCard() {
            currentChapter = (currentChapter + 1) % chapters.length;
            isCardFlipped = false;
            document.getElementById('fc-translation').classList.add('hidden');
            updateFlashcard();
        }

        function prevCard() {
            currentChapter = (currentChapter - 1 + chapters.length) % chapters.length;
            isCardFlipped = false;
            document.getElementById('fc-translation').classList.add('hidden');
            updateFlashcard();
        }

        function updateFlashcard() {
            document.getElementById('fc-chapter').textContent = chapters[currentChapter].title;
            document.getElementById('fc-content').textContent = chapters[currentChapter].content;
            document.getElementById('fc-translation').textContent = chapters[currentChapter].translation;
        }

        function markRemembered() {
            progress[chapters[currentChapter].id] = 'mastered';
            localStorage.setItem('taoProgress', JSON.stringify(progress));
            updateProgress();
            nextCard();
        }

        function nextMemorize() {
            currentChapter = (currentChapter + 1) % chapters.length;
            updateMemorize();
        }

        function prevMemorize() {
            currentChapter = (currentChapter - 1 + chapters.length) % chapters.length;
            updateMemorize();
        }

        function updateMemorize() {
            document.getElementById('mem-chapter').textContent = chapters[currentChapter].title;
            document.getElementById('mem-text').textContent = chapters[currentChapter].content;
            document.getElementById('mem-hint').classList.add('hidden');
        }

        function toggleMemorizeShow() {
            document.getElementById('mem-text').classList.toggle('opacity-20');
        }

        function toggleMemorizeHint() {
            document.getElementById('mem-hint').classList.toggle('hidden');
        }

        function markMemorized() {
            progress[chapters[currentChapter].id] = 'mastered';
            localStorage.setItem('taoProgress', JSON.stringify(progress));
            updateProgress();
            nextMemorize();
        }

        function renderQuizButtons() {
            const container = document.getElementById('quiz-buttons');
            chapters.forEach(ch => {
                const btn = document.createElement('button');
                btn.className = 'chapter-btn bg-slate-200 py-2 rounded-lg font-bold hover:bg-orange-400 hover:text-white';
                btn.textContent = ch.id;
                btn.onclick = () => startQuiz(ch.id);
                container.appendChild(btn);
            });
        }

        function startQuiz(chapterId) {
            quizChapter = chapters.find(c => c.id === chapterId);
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('quiz-question').classList.remove('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            
            const sentences = quizChapter.content.split('ã€‚').filter(s => s.length > 10);
            if (sentences.length > 0) {
                const target = sentences[0];
                const words = target.split(/[ï¼Œ,]/);
                const keyWord = words.find(w => w.length >= 4 && w.length <= 8) || words[0];
                document.getElementById('quiz-text').textContent = `è¯·å¡«ç©ºï¼š${target.replace(keyWord, '___')}`;
                document.getElementById('quiz-answer').dataset.answer = keyWord;
            }
            document.getElementById('quiz-answer').value = '';
        }

        function checkQuiz() {
            const answer = document.getElementById('quiz-answer').value.trim();
            const correctAnswer = document.getElementById('quiz-answer').dataset.answer;
            const result = document.getElementById('quiz-result');
            
            result.classList.remove('hidden');
            document.getElementById('quiz-question').classList.add('hidden');
            
            if (answer.includes(correctAnswer) || (correctAnswer && correctAnswer.includes(answer))) {
                result.querySelector('#quiz-result-text').textContent = 'âœ… å›ç­”æ­£ç¡®ï¼';
                result.querySelector('#quiz-result-text').className = 'text-xl font-bold text-green-500';
                progress[quizChapter.id] = 'mastered';
            } else {
                result.querySelector('#quiz-result-text').textContent = `âŒ æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${correctAnswer}`;
                result.querySelector('#quiz-result-text').className = 'text-xl font-bold text-red-500';
                progress[quizChapter.id] = 'learning';
            }
            localStorage.setItem('taoProgress', JSON.stringify(progress));
            updateProgress();
        }

        function showQuizAnswer() {
            const result = document.getElementById('quiz-result');
            result.classList.remove('hidden');
            document.getElementById('quiz-question').classList.add('hidden');
            const correctAnswer = document.getElementById('quiz-answer').dataset.answer;
            result.querySelector('#quiz-result-text').textContent = `æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${correctAnswer || 'è¯·é‡æ–°æµ‹è¯•'}`;
            if (quizChapter.id) progress[quizChapter.id] = 'learning';
            localStorage.setItem('taoProgress', JSON.stringify(progress));
        }

        function resetQuiz() {
            document.getElementById('quiz-question').classList.add('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');
        }

        function renderChapterList(filter = 'all') {
            const container = document.getElementById('chapter-list');
            container.innerHTML = '';
            
            chapters.forEach(ch => {
                let statusClass = 'bg-slate-200';
                let status = 'æœªå¼€å§‹';
                if (progress[ch.id] === 'mastered') {
                    statusClass = 'bg-green-500 text-white';
                    status = 'å·²æŒæ¡';
                } else if (progress[ch.id] === 'learning') {
                    statusClass = 'bg-yellow-500 text-white';
                    status = 'å­¦ä¹ ä¸­';
                }

                if (filter === 'mastered' && progress[ch.id] !== 'mastered') return;
                if (filter === 'learning' && progress[ch.id] !== 'learning') return;
                if (filter === 'new' && progress[ch.id]) return;

                const div = document.createElement('div');
                div.className = 'card p-4 rounded-xl flex flex-col cursor-pointer hover:shadow-lg transition-shadow';
                div.onclick = () => { currentChapter = ch.id - 1; showMode('flashcard'); updateFlashcard(); };
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-slate-700">${ch.title}</h3>
                        <span class="${statusClass} px-3 py-1 rounded-full text-sm font-bold">${status}</span>
                    </div>
                    <p class="text-sm text-slate-500 leading-relaxed">${ch.content}</p>
                `;
                container.appendChild(div);
            });
        }

        function filterChapters(type) {
            renderChapterList(type);
        }

        function updateProgress() {
            const total = chapters.length;
            const mastered = Object.values(progress).filter(v => v === 'mastered').length;
            const percent = (mastered / total) * 100;
            document.getElementById('progress-bar').style.width = `${percent}%`;
            document.getElementById('progress-text').textContent = `${mastered}/${total} ç« `;
        }
    </script>
</body>
</html>
